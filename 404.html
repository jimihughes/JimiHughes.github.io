<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>404 â€” Page Not Found Â· Jimi Hughes</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #f2f2f2;
      --text: #111;
      --text-muted: #888;
      --border: #e0e0e0;
    }

    html, body {
      width: 100%; height: 100%;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 24px;
      text-align: center;
    }

    /* Canvas */
    canvas {
      display: block;
      border-radius: 16px;
      margin-bottom: 32px;
      cursor: none;
      touch-action: none;
    }

    /* Text */
    .label {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 10px;
    }

    h1 {
      font-size: 40px;
      font-weight: 800;
      letter-spacing: -1px;
      margin-bottom: 10px;
    }

    p {
      font-size: 15px;
      color: var(--text-muted);
      max-width: 320px;
      line-height: 1.6;
      margin-bottom: 28px;
    }

    .home-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: var(--text);
      color: #fff;
      border-radius: 100px;
      font-size: 14px;
      font-weight: 600;
      font-family: inherit;
      text-decoration: none;
      transition: all 0.2s;
    }

    .home-btn:hover { opacity: 0.8; transform: translateY(-2px); }

    .score-row {
      margin-top: 16px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .score-row span {
      font-weight: 700;
      color: var(--text);
    }
  </style>
</head>
<body>

  <canvas id="c"></canvas>

  <div class="label">Error 404</div>
  <h1>Lost in space ðŸš€</h1>
  <p>That page doesn't exist â€” but while you're here, dodge the asteroids.</p>

  <a href="/index.html" class="home-btn">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
    Back to Home
  </a>

  <div class="score-row">High score: <span id="best">0</span> &nbsp;Â·&nbsp; Score: <span id="score">0</span></div>

<script>
  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');
  const scoreEl = document.getElementById('score');
  const bestEl = document.getElementById('best');

  let W, H, best = parseInt(localStorage.getItem('404-best') || '0');
  bestEl.textContent = best;

  function resize() {
    const s = Math.min(window.innerWidth - 32, 420);
    W = canvas.width = s;
    H = canvas.height = Math.round(s * 0.6);
  }
  resize();
  window.addEventListener('resize', () => { resize(); });

  // Game state
  let ship, bullets, asteroids, score, lives, gameOver, animId, spawnTimer, spawnRate;

  function init() {
    ship = { x: W / 2, y: H / 2, r: 12, vx: 0, vy: 0, angle: -Math.PI / 2, thrusting: false, dead: false, inv: 0 };
    bullets = [];
    asteroids = [];
    score = 0;
    lives = 3;
    gameOver = false;
    spawnTimer = 0;
    spawnRate = 120;
    scoreEl.textContent = '0';
    if (animId) cancelAnimationFrame(animId);
    loop();
  }

  // Mouse / touch control
  let mx = W / 2, my = H / 2;
  canvas.addEventListener('mousemove', e => {
    const r = canvas.getBoundingClientRect();
    mx = e.clientX - r.left;
    my = e.clientY - r.top;
  });
  canvas.addEventListener('touchmove', e => {
    e.preventDefault();
    const r = canvas.getBoundingClientRect();
    mx = e.touches[0].clientX - r.left;
    my = e.touches[0].clientY - r.top;
  }, { passive: false });

  let shooting = false;
  canvas.addEventListener('click', shoot);
  canvas.addEventListener('touchstart', e => { e.preventDefault(); shoot(); }, { passive: false });

  document.addEventListener('keydown', e => {
    if (e.key === ' ' || e.key === 'Enter') shoot();
    if (gameOver && (e.key === ' ' || e.key === 'Enter' || e.key === 'r' || e.key === 'R')) init();
  });

  function shoot() {
    if (gameOver) { init(); return; }
    const speed = 7;
    bullets.push({
      x: ship.x + Math.cos(ship.angle) * ship.r,
      y: ship.y + Math.sin(ship.angle) * ship.r,
      vx: Math.cos(ship.angle) * speed + ship.vx * 0.5,
      vy: Math.sin(ship.angle) * speed + ship.vy * 0.5,
      life: 60,
    });
  }

  function spawnAsteroid(size) {
    const side = Math.floor(Math.random() * 4);
    let x, y;
    if (side === 0) { x = Math.random() * W; y = -30; }
    else if (side === 1) { x = W + 30; y = Math.random() * H; }
    else if (side === 2) { x = Math.random() * W; y = H + 30; }
    else { x = -30; y = Math.random() * H; }

    const angle = Math.atan2(H / 2 - y, W / 2 - x) + (Math.random() - 0.5) * 1.2;
    const speed = (Math.random() * 1.2 + 0.6) * (3 - (size || 2));
    const r = size === 0 ? 10 : size === 1 ? 18 : 28;
    const verts = Math.floor(Math.random() * 4) + 7;
    const offsets = Array.from({ length: verts }, () => 0.7 + Math.random() * 0.6);

    asteroids.push({ x, y, vx: Math.cos(angle) * speed, vy: Math.sin(angle) * speed, r, size: size ?? 2, verts, offsets, rot: Math.random() * Math.PI * 2, rotSpeed: (Math.random() - 0.5) * 0.04 });
  }

  function loop() {
    animId = requestAnimationFrame(loop);
    update();
    draw();
  }

  function update() {
    if (gameOver) return;

    // Aim ship toward mouse
    const dx = mx - ship.x, dy = my - ship.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    ship.angle = Math.atan2(dy, dx);
    ship.thrusting = dist > 20;

    if (ship.thrusting) {
      ship.vx += Math.cos(ship.angle) * 0.18;
      ship.vy += Math.sin(ship.angle) * 0.18;
    }
    ship.vx *= 0.96;
    ship.vy *= 0.96;
    ship.x += ship.vx;
    ship.y += ship.vy;
    ship.x = (ship.x + W) % W;
    ship.y = (ship.y + H) % H;
    if (ship.inv > 0) ship.inv--;

    // Bullets
    for (let i = bullets.length - 1; i >= 0; i--) {
      const b = bullets[i];
      b.x += b.vx; b.y += b.vy; b.life--;
      if (b.life <= 0 || b.x < 0 || b.x > W || b.y < 0 || b.y > H) bullets.splice(i, 1);
    }

    // Spawn asteroids
    spawnTimer++;
    if (spawnTimer >= spawnRate) {
      spawnTimer = 0;
      spawnRate = Math.max(40, spawnRate - 2);
      spawnAsteroid();
    }

    // Asteroids
    for (let i = asteroids.length - 1; i >= 0; i--) {
      const a = asteroids[i];
      a.x += a.vx; a.y += a.vy;
      a.rot += a.rotSpeed;

      // Wrap
      if (a.x < -50) a.x = W + 50;
      if (a.x > W + 50) a.x = -50;
      if (a.y < -50) a.y = H + 50;
      if (a.y > H + 50) a.y = -50;

      // Bullet collision
      for (let j = bullets.length - 1; j >= 0; j--) {
        const b = bullets[j];
        if (Math.hypot(b.x - a.x, b.y - a.y) < a.r) {
          bullets.splice(j, 1);
          asteroids.splice(i, 1);
          score++;
          scoreEl.textContent = score;
          if (score > best) { best = score; bestEl.textContent = best; localStorage.setItem('404-best', best); }
          if (a.size > 0) { spawnAsteroid(a.size - 1); spawnAsteroid(a.size - 1); }
          break;
        }
      }

      // Ship collision
      if (!ship.dead && ship.inv === 0 && Math.hypot(ship.x - a.x, ship.y - a.y) < a.r + ship.r - 4) {
        lives--;
        ship.inv = 120;
        if (lives <= 0) { gameOver = true; if (score > best) { best = score; localStorage.setItem('404-best', best); } }
      }
    }
  }

  function draw() {
    ctx.fillStyle = '#0a0a0a';
    ctx.fillRect(0, 0, W, H);

    // Stars (static, seeded)
    ctx.fillStyle = 'rgba(255,255,255,0.5)';
    for (let i = 0; i < 60; i++) {
      const sx = ((i * 137 + 11) % W);
      const sy = ((i * 97 + 53) % H);
      ctx.fillRect(sx, sy, 1, 1);
    }

    // Asteroids
    asteroids.forEach(a => {
      ctx.save();
      ctx.translate(a.x, a.y);
      ctx.rotate(a.rot);
      ctx.beginPath();
      for (let i = 0; i < a.verts; i++) {
        const angle = (i / a.verts) * Math.PI * 2;
        const r = a.r * a.offsets[i];
        if (i === 0) ctx.moveTo(Math.cos(angle) * r, Math.sin(angle) * r);
        else ctx.lineTo(Math.cos(angle) * r, Math.sin(angle) * r);
      }
      ctx.closePath();
      ctx.strokeStyle = '#aaa';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.fillStyle = 'rgba(100,100,100,0.3)';
      ctx.fill();
      ctx.restore();
    });

    // Ship
    if (!gameOver) {
      const visible = ship.inv === 0 || Math.floor(ship.inv / 8) % 2 === 0;
      if (visible) {
        ctx.save();
        ctx.translate(ship.x, ship.y);
        ctx.rotate(ship.angle);
        ctx.beginPath();
        ctx.moveTo(ship.r, 0);
        ctx.lineTo(-ship.r * 0.7, ship.r * 0.5);
        ctx.lineTo(-ship.r * 0.4, 0);
        ctx.lineTo(-ship.r * 0.7, -ship.r * 0.5);
        ctx.closePath();
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 1.5;
        ctx.stroke();
        ctx.fillStyle = 'rgba(255,255,255,0.08)';
        ctx.fill();

        // Thrust flame
        if (ship.thrusting && Math.random() > 0.3) {
          ctx.beginPath();
          ctx.moveTo(-ship.r * 0.4, ship.r * 0.25);
          ctx.lineTo(-ship.r * 0.4 - (4 + Math.random() * 8), 0);
          ctx.lineTo(-ship.r * 0.4, -ship.r * 0.25);
          ctx.strokeStyle = `rgba(255,${100 + Math.floor(Math.random()*100)},0,0.8)`;
          ctx.lineWidth = 2;
          ctx.stroke();
        }
        ctx.restore();
      }
    }

    // Bullets
    bullets.forEach(b => {
      ctx.beginPath();
      ctx.arc(b.x, b.y, 2.5, 0, Math.PI * 2);
      ctx.fillStyle = '#fff';
      ctx.fill();
    });

    // Custom cursor (crosshair)
    ctx.strokeStyle = 'rgba(255,255,255,0.5)';
    ctx.lineWidth = 1;
    ctx.beginPath(); ctx.moveTo(mx - 8, my); ctx.lineTo(mx + 8, my); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(mx, my - 8); ctx.lineTo(mx, my + 8); ctx.stroke();
    ctx.beginPath(); ctx.arc(mx, my, 4, 0, Math.PI * 2); ctx.stroke();

    // Lives
    for (let i = 0; i < lives; i++) {
      ctx.save();
      ctx.translate(16 + i * 20, 16);
      ctx.rotate(-Math.PI / 2);
      ctx.beginPath();
      ctx.moveTo(8, 0); ctx.lineTo(-6, 5); ctx.lineTo(-4, 0); ctx.lineTo(-6, -5);
      ctx.closePath();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.restore();
    }

    // Game over
    if (gameOver) {
      ctx.fillStyle = 'rgba(0,0,0,0.7)';
      ctx.fillRect(0, 0, W, H);
      ctx.fillStyle = '#fff';
      ctx.font = `bold ${Math.round(W * 0.07)}px Inter, sans-serif`;
      ctx.textAlign = 'center';
      ctx.fillText('GAME OVER', W / 2, H / 2 - 20);
      ctx.font = `${Math.round(W * 0.038)}px Inter, sans-serif`;
      ctx.fillStyle = 'rgba(255,255,255,0.6)';
      ctx.fillText(`Score: ${score}  Â·  Click or press Space to retry`, W / 2, H / 2 + 16);
    }
  }

  init();
</script>

</body>
</html>
